{
  "name": "cva-create",
  "description": "A node command for creating a Cordova project based on configurable parameters",
  "version": "0.2.16",
  "engines": {
    "node": ">= 0.10.0"
  },
  "author": {
    "name": "Chris Whealy",
    "email": "chris@whealy.com",
    "url": "http://whealy.com/"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/ChrisWhealy/Cordova-Create"
  },
  "bin": {
    "cva-create": "cva-create.js"
  },
  "keywords": [
    "Cordova"
  ],
  "dependencies": {
    "colors": "^0.6.2",
    "shelljs": "^0.3.0",
    "xml2js": "^0.4.2"
  },
  "devDependencies": {},
  "preferGlobal": true,
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/ChrisWhealy/Cordova-Create/issues"
  },
  "homepage": "https://github.com/ChrisWhealy/Cordova-Create",
  "readme": "<a name=\"top\"></a>\r\n#`cva-create`\r\n\r\n##Table of Contents\r\n1. [Overview](#header1)  \r\n2. [Attribution](#header2)  \r\n3. [Requirements](#header3)  \r\n4. [Installation](#header4)  \r\n5. [Upgrade](#header5)  \r\n6. [Usage](#header6)  \r\n7. [Global Configuration File](#header7)  \r\n8. [Configuration Property Names](#header8)  \r\n9. [Using a Local Configuration File](#header9)  \r\n10. [Adjusting the `config.xml` File](#header10)  \r\n  1. [XML Element: No Attributes And A Simple String As Content](#header10_1)  \r\n  2. [XML Element: One Or More Attributes And A Simple String As Content](#header10_2)  \r\n  3. [Empty XML Element: One Or More Attributes But No Content](#header10_3)  \r\n  4. [XML Element: One Or More Attributes And Structured Content](#header10_4)\r\n11. [Using Place Holders In `config.xml` Attributes and Content](#header11)  \r\n  1. [Place Holder Syntax](#header11_1)  \r\n  2. [Place Holder Usage](#header11_2)  \r\n  3. [Simple Example](#header11_3)  \r\n  4. [Mulitple Place Holders](#header11_4)  \r\n  5. [Place Holder Reference Errors](#header11_5)  \r\n12. [Full Example](#header10_5)\r\n\r\n\r\n\r\n<a name=\"header1\"></a>\r\n##1) Overview\r\n`cva-create` is a tool designed primarily to help people who regularly create Cordova projects.  If you're an occasional Cordova user, you might not find this tool so useful.\r\n\r\n`cva-create` creates a simple Cordova project for any platform and adds a configurable number of plugins.  In a single command, this tool performs the following sequence of Cordova CLI commands:\r\n\r\n1. `cordova create <app dir> <app id> <app name>`\r\n2. `cd <app dir>`\r\n3. `cordova platform add <platform names>`\r\n4. Zero or more invocations of `cordova plugin add <plugin name>`\r\n5. Optionally updates Cordova's `config.xml` file\r\n6. Optionally runs `cordova prepare`\r\n\r\n[Top](#top)\r\n\r\n\r\n<a name=\"header2\"></a>\r\n##2) Attribution\r\n`cva-create` is a fork of John Wargo's now obsolete [cordova-create tool](https://github.com/johnwargo/Cordova-Create).  `Cordova-Create` has now been replaced by [cdva-create](https://github.com/johnwargo/cdva-create).\r\n\r\nJohn is the author of several books on PhoneGap and Cordova such as [Apache Cordova 3 Programming](http://www.cordovaprogramming.com). For more details, see [http://www.johnwargobooks.com].\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header3\"></a>\r\n##3) Requirements\r\nThis module expects the following software already to be installed, configured and working:\r\n\r\n1. An Apache Cordova development environment, including the appropriate native SDKs (Android Development Tools, Xcode etc.)\r\n2. NodeJS and other associated tools such as `npm`.\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header4\"></a>\r\n##4) Installation\r\nInstall this module globally using `npm`.  From a terminal window, execute the following command:\r\n\r\nWindows:\r\n\r\n\tnpm install -g cva-create\r\n\r\nMacintosh OS X:\r\n\r\n\tsudo npm install -g cva-create\r\n\r\nAlternatively, if you've downloaded the ZIP file from GitHub, you can install the module as follows:\r\n\r\n1. Expand the ZIP file into some working directory  \r\n2. Open a terminal window and change into the above working directory  \r\n3. Issue the following command:  \r\n  * Windows:  \r\n\r\n      `npm install -g`\r\n  * Mac OS X:    \r\n\r\n      `sudo npm install -g`\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header5\"></a>\r\n##5) Upgrade\r\nIf you are upgrading `cva-create` from a previous version, before running a build with the new version, first run:\r\n\r\n    cva-create upgrade_config\r\n  \r\nThe `upgrade_config` parameter causes any new properties used by the latest version of `cva-create` to be inserted into the existing `cva-create.json` file in your home directory.  Existing property values in `cva-create.json` will not be touched.\r\n\r\nRunning `cva-create upgrade_config` will not build a Cordova project.\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header6\"></a>\r\n##6) Usage\r\n1. If this is the first time you have used `cva-create`, then you must start by creating the global configuration file.  Open a terminal window and run:\r\n\r\n    `cva-create gen_config`\r\n  \r\n   Using the `gen_config` parameter will not cause a Cordova project to be built.  Instead it will simply create a file called `cva-create.json` in your home directory.  This file contains a set of parameters that will be used as default values when `cva-create` builds a Cordova project.\r\n\r\n2. Edit `cva-create.json` in your home directory as appropriate for your situation.\r\n\r\n  For instance, if your apps always use the plugin `org.apache.cordova.network-information`, then adding this string to the list of plugins will mean it is automatically added to all projects built by `cva-create`.\r\n\r\n3. To create a new Cordova project, open a terminal window, navigate to the directory in which you want the project built and issue the `cva-create` command with the following pattern of arguments:\r\n\r\n\t`cva-create <app dir> <app id> <app name> <zero or more platform names>`\r\n\r\n  Where:\r\n  \r\n  * `<app dir>` is the directory into which the Cordova project will be written.\r\n\r\n  * `<app id>` is the identity of the application (for instance, `com.mycorp.thingamajig`)\r\n\r\n  * `<app name>` is the name of the application seen by the user of the mobile device.\r\n\r\n  * `<platform names>` is an optional set of target platforms. If this list is omitted, then `cva-create` will look first at the default platforms listed in the Global Configuration file.  If any platforms are listed in the Local Configuration files, then the local values take precedence over the global values.\r\n    \r\n  The first three parameters are the same as would be used with the Cordova CLI command `cordova create`.\r\n\r\n  For instance, if Android and iOS are listed as the default platforms in the Global Configuration file, then to create a Cordova project for both of these platforms called \"Thingamajig\" in a directory called \"thing_1\" you would use the following command:\r\n\r\n\t`cva-create thing_1 com.mycorp.thingamajig Thingamajig`\r\n\r\n  To create a project for a platform not listed as a default, simply add the platform name(s).  E.G. for Firefox OS, add `firefoxos`:\r\n\r\n\t`cva-create thing_1 com.mycorp.thingamajig Thingamajig firefoxos`\r\n\r\n4. If you wish a particular project to use values other than those defined in the global configuration file, then copy the `cva-create.json` from your home directory into the local project directory and edit it to contain project specific values.\r\n\r\n  The property values in the local configuration file will now override the corresponding values in global configuration file.  See the section on [Using a Local Configuration File](#header9) for details.\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header7\"></a>\r\n##7) Global Configuration File\r\nWhen the `cva-create` tool is run using only the `gen_config` parameter, if the file `create-cordova.json` does not exist in your home directory, then it will be created with default values.\r\n\r\nIf this file already exists, then it will remain unmodified.  Either way, a Cordova project will not be created.\r\n\r\nOn Windows you can find the global configuration file in the directory `c:\\users\\<user_name>` (replacing `<user_name>` with the logon name of the current user).\r\n\r\nOn Mac OS X, this file is located in the user's home directory at `/Users/<user_name>` (again replacing `<user_name>` with the current user's logon name).\r\n\r\nWhen a global configuration file is created for the first time on a Mac, it will have the following default content:\r\n\r\n    {\r\n      \"cordovaDebug\": false,\r\n      \"copyFrom\": \"\",\r\n      \"linkTo\": \"\",\r\n      \"createParms\": \"\",\r\n      \"replaceTargetDir\": false,\r\n      \"runPrepare\": false,\r\n      \"pluginList\": [\r\n        \"org.apache.cordova.console\",\r\n        \"org.apache.cordova.dialogs\",\r\n        \"org.apache.cordova.device\"\r\n      ],\r\n      \"platformList\": [\r\n        \"android\",\r\n        \"ios\"\r\n      ],\r\n      \"proxy\": {\r\n        \"useProxy\": false,\r\n        \"useCredentials\" : false,\r\n        \"proxyUser\" : \"\",\r\n        \"proxyPassword\" : \"\",\r\n        \"secureProxyUsesHttp\": false,\r\n        \"http\": {\r\n          \"host\": \"\",\r\n          \"port\": 0\r\n        },\r\n        \"https\": {\r\n          \"host\": \"\",\r\n          \"port\": 0\r\n        }\r\n      },\r\n      \"adjustConfigXml\": false,\r\n      \"configXmlWidget\": [\r\n        {\r\n          \"elementName\": \"\",\r\n          \"attributes\": {},\r\n          \"content\": []\r\n        }\r\n      ]\r\n    }\r\n\r\nIf you are running on some other operating system, then the only difference will be the list of [default platforms](#header8_1) since this is OS specific.\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header8\"></a>\r\n##8) Configuration Property Names\r\n* `cordovaDebug : Boolean`\r\n\r\n  Switches the Cordova `-d` flag on or off.  With this option set to true, additional debug information will be written to the console as the Cordova CLI commands are executed.\r\n  \r\n  Typically, you should leave this property set to `false` unless something in the build process is going wrong.\r\n\r\n* `copyFrom : String`\r\n\r\n  The directory from which the contents of the `www` directory should be copied.\r\n\r\n* `linkTo : String`\r\n\r\n  The directory to which the `www` directory should be linked.\r\n  \r\n  **NOTE:**  It makes no sense to supply pathnames for both the `copyFrom` *and* `linkTo` properties.  You should specify one, or the other, but not both.\r\n  \r\n  However, if you are feeling particularly over zealous and supply pathnames for *both* parameters, then the following logic is used:\r\n  \r\n        Does the directory name specified in \"copyFrom\" exist?\r\n          Yes --> Use this value for the --copyFrom parameter and ignore the \"linkTo\" property\r\n          No  --> Does the directory name specified in \"linkTo\" exist?\r\n                  Yes --> Use this value for the --linkTo parameter\r\n                  No  --> \"cordova create\" will be run using neither the --copyFrom nor --linkTo parameters\r\n\r\n* `createParms : String`\r\n\r\n  A string representing a double-escaped JSON object containing parameters such as the path name to a local plugins directory\r\n\r\n* `replaceTargetDir : Boolean`\r\n\r\n  If the target directory for this Cordova project already exists, should it be deleted and recreated?  **Use with care!**\r\n\r\n* `runPrepare : Boolean`\r\n\r\n  Determines whether `cordova prepare` should be run.  If set to `true`, `cordova prepare` will be performed as the very last step.\r\n\r\n* `pluginList : [String]`\r\n\r\n  An array containing the plugins common to all your Cordova projects.\r\n\r\n  You can add third party plugins to this list as long as the Cordova CLI can load the plugins using the plugin's ID.  Where this won't work is for locally installed plugins.  If you want to use locally installed plugins, you will need to set a plugin search path during the call to the `cordova create` command using the `createParms` property.\r\n\r\n\r\n* <a name=\"header8_1\"></a>`platformList : [String]`\r\n\r\n  An array containing the names of the default platforms.\r\n\r\n  **Important**: The default list of platforms in the global configuration file is OS dependent and is decided as follows:\r\n\r\n        windows : ['android', 'windows']\r\n        linux   : ['ubuntu']\r\n        osx     : ['android', 'ios']\r\n        unknown : ['android']\r\n\r\n* `proxy : Object`\r\n\r\n  An object containing various parameters for connecting to the public internet via a proxy server.\r\n  \r\n        \"proxy\": {\r\n          \"useProxy\": false,\r\n          \"useCredentials\" : false,\r\n          \"proxyUser\" : \"\",\r\n          \"proxyPassword\" : \"\",\r\n          \"secureProxyUsesHttp\": false,\r\n          \"http\": {\r\n            \"host\": \"\",\r\n            \"port\": 0\r\n          },\r\n          \"https\": {\r\n            \"host\": \"\",\r\n            \"port\": 0\r\n          }\r\n        },\r\n  \r\n  * `useProxy : Boolean`   \r\n  Switching the use of a proxy server on or off is useful if you need to work both inside and outside a corporate network.  The proxy settings can be switched on and off as required.\r\n  \r\n  * `useCredentials : Boolean`  \r\n  Determines whether user credentials should be used for accessing the proxy server\r\n  \r\n  * `proxyUser : String`  \r\n  Userid to access the proxy server\r\n  \r\n  * `proxyPassword : String`  \r\n  Password to access the proxy server\r\n  \r\n  * `secureProxyUsesHttp : Boolean`  \r\n  If set to true, the `https` proxy hostname and port will be ignored and the `http` hostname and port will be used for both `http` and `https` proxy access\r\n  \r\n  * `http : Object`  \r\n  An object containing the `host` and `port` for `http` proxy access.\r\n\r\n  * `https : Object`  \r\n  An object containing the `host` and `port` for secure proxy access.  If the Boolean property `secureProxyUsesHttp` is set to true, then the values of this object will be ignored\r\n\r\n* `adjustConfigXml : Boolean`\r\n\r\n  A Boolean to indicate whether or not the Cordova's project's `config.xml` file should be adjusted.\r\n\r\n* `configXmlWidget : [Object]`\r\n\r\n  An array of objects representing the new or updated elements within the `<widget>` element.\r\n\r\n\r\nTo change the project's configuration, edit the file, providing your own values for the configuration options described above.\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header9\"></a>\r\n##9) Using a Local Configuration File\r\nIf you choose to create a local configuration file, then:\r\n\r\n1. This file must live in the same directory from which the `cva-create` command is run.\r\n2. The local configuration file need only contain those properties that **differ** from the global configuration file.\r\n\r\nThe rule for merging global and local configuration values is that all values in the local configuration file will override the corresponding values found in the global configuration file **except** for the list of plugins.\r\n\r\nThe list of plugins in the local configuration file is always **added** to the list of plugins found in the global configuration file (duplicate entries are removed).\r\n\r\nFor instance, a local configuration file could contain the following:\r\n\r\n    {\r\n      \"cordovaDebug\"     : true,\r\n      \"linkTo\"           : \"./demo_www\",\r\n      \"createParms\"      : \"\\\"{\\\\\\\"plugin_search_path\\\\\\\": \\\\\\\"/usr/3rd-party/plugins\\\\\\\"}\\\"\",\r\n      \"replaceTargetDir\" : true,\r\n      \"runPrepare\"       : true,\r\n      \"platformList\"     : ['ios'],\r\n      \"pluginList\" : [\r\n        \"https://github.com/vstirbu/PromisesPlugin.git\",\r\n        \"com.3rd-party.plugins.do-this\",\r\n        \"com.3rd-party.plugins.do-that\"\r\n      ],\r\n      \"adjustConfigXml\": true,\r\n      \"configXmlWidget\": [\r\n        {\r\n          \"elementName\" : \"name\",\r\n          \"attributes\"  : {},\r\n          \"content\": \"My Cool Cordova App\"\r\n        },\r\n        {\r\n          \"elementName\" : \"description\",\r\n          \"attributes\"  : {},\r\n          \"content\": \"This app is so cool, it can do everything except squeeze orange juice and tie shoelaces\"\r\n        }\r\n      ]\r\n    }\r\n\r\nOther than the list of plugins, all values in the local configuration file will override the corresponding values in the global configuration file as follows (the order in which these properties are specified is not important):\r\n\r\n1. `\"cordovaDebug\": true`\r\n\r\n   The `-d` (for debug) option will be added to each Cordova CLI command.  Remember, only use this parameter when something is not working correctly in the build process.\r\n  \r\n2. `\"linkTo\": \"./demo_www\"`\r\n\r\n   The cordova \"www\" directory will be linked to an existing directory accessed using the relative pathname \"./demo_www\"\r\n\r\n3. `\"createParms\": \"\\\"{\\\\\\\"plugin_search_path\\\\\\\": \\\\\\\"/usr/3rd-party/plugins\\\\\\\"}\\\"\"`\r\n\r\n   We want to use some 3rd-party Cordova plugins that live in the `\"/usr/3rd-party/plugins/\"` directory.\r\n\r\n   Notice that the string value has been escaped twice.  This results in the need for a triple backslash in certain places!\r\n   \r\n   This is necessary because when the value is read from the file, one level of escape characters will be consumed.  Whatever string remains must still retain the correct escape syntax for the embedded double-quote characters:\r\n   \r\n   Parsing this double-escaped string removes one level of escape characters, so:\r\n   \r\n   `\"\\\"{\\\\\\\"plugin_search_path\\\\\\\": \\\\\\\"/usr/3rd-party/plugins\\\\\\\"}\\\"\"`\r\n   \r\n   becomes:\r\n\r\n   `\"{\\\"plugin_search_path\\\": \\\"/usr/3rd-party/plugins\\\"}\"`\r\n\r\n   This parsed string value still contains escaped double quote characters and can now be passed as a parameter to the `cordova create` command.\r\n\r\n4. `\"replaceTargetDir\": true`\r\n\r\n   If `cva-create` is re-run from the same directory, then the old project will be deleted and recreated.  **Use with care!**\r\n\r\n5. `\"runPrepare\": true`\r\n\r\n   The `cordova prepare` CLI command will be issued as the very last step\r\n\r\n6. `\"platformList\": ['ios']`\r\n\r\n   We want to create only an iOS project.\r\n\r\n7. `\"pluginList\": [\r\n      \"https://github.com/vstirbu/PromisesPlugin.git\",\r\n      \"com.3rd-party.plugins.do-that\",\r\n      \"com.3rd-party.plugins.do-that\"\r\n    ]`\r\n\r\n  This list of plugins is used to extend the list of plugins found in the global configuration file.\r\n  \r\n  The plugins that are actually added to your project will be the sum of the global and local plugin lists (after duplicates have been removed) in which the plugin order has been preserved - global first, then local.\r\n\r\n8. `\"adjustConfigXml\": true`  \r\n     `\"configXmlWidget\": []`\r\n\r\n   These properties are documented in the next section on [Adjusting the `config.xml` File](#header10).\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n<a name=\"header10\"></a>\r\n##10) Adjusting the `config.xml` File\r\nWhen a new Cordova project is created, the basic, OS independent properties of that project are defined in a file called `config.xml`. A sample of this file looks like this:\r\n\r\n    <?xml version='1.0' encoding='utf-8'?>\r\n    <widget id=\"mycordovaapp.mycorp.com\" version=\"0.0.1\" xmlns=\"http://www.w3.org/ns/widgets\" xmlns:cdv=\"http://cordova.apache.org/ns/1.0\">\r\n        <name>MyCordovaApp</name>\r\n        <description>\r\n            A sample Apache Cordova application that responds to the deviceready event.\r\n        </description>\r\n        <author email=\"dev@cordova.apache.org\" href=\"http://cordova.io\">\r\n            Apache Cordova Team\r\n        </author>\r\n        <content src=\"index.html\" />\r\n        <access origin=\"*\" />\r\n    </widget>\r\n\r\nWithin the `config.xml` file, the root element is always called `<widget>` and contains all the OS independent properties for this project.  If you want to add or update the XML elements within the `<widget>` element, then these values must be defined in either the global or local configuration files.\r\n\r\nAs with the list of plugins, any values found in your local configuration file will be **added** to the zero or more values found in the global configuration file.\r\n\r\nIn order to adjust the `config.xml` file, the following configuration properties must be defined:\r\n\r\n1. Setting `adjustConfigXml` to `true` instructs `cva-create` to adjust the `config.xml` file using the values found in the array `configXmlWidget`.  \r\n   Setting `adjustConfigXml` to `false` means that the default `config.xml` generated by Cordova will not be altered, even if values have been specified in the array `configXmlWidget`.\r\n2. In order to add or update the XML elements within the `<widget>` element, one or more JSON objects must be added to the array `configXmlWidget`.\r\n3. Each JSON object must have exactly the following properties - even if you do not intend to add any values to these properties:\r\n\r\n    `{  \r\n      \"elementName\" : \"\",  \r\n      \"attributes\"  : {},  \r\n      \"content\"     : []  \r\n    }`\r\n\r\n<a name=\"header10_1\"></a>\r\n###XML Element: No Attributes And A Simple String As Content   \r\nIf you wish to add an XML element that does not use attributes and contains only a string value as its content, then add the following object as an element in the `configXmlWidget` array.\r\n\r\nThe `<description>` element is a good example:\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"description\",\r\n        \"attributes\"  : {},\r\n        \"content\"     : [\"The content property is an array containing a single string element\"]\r\n      }\r\n    ]\r\n\r\nAlternatively, since the content is a simple string value, the enclosing array can be omitted:\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"description\",\r\n        \"attributes\"  : {},\r\n        \"content\"     : \"The content property is just a string\"\r\n      }\r\n    ]\r\n\r\n\r\n<a name=\"header10_2\"></a>\r\n###XML Element: One Or More Attributes And A Simple String As Content   \r\nIf you wish to add an XML element that has both attributes and simple content, then add the following object as an element in the `configXmlWidget` array.\r\n\r\nThe `<author>` element is a good example here:\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"author\",\r\n        \"attributes\"  : { \"email\": \"chris@whealy.com\", \"href\": \"http://whealy.com\" },\r\n        \"content\"     : \"Here's some stuff I wrote\"\r\n      }\r\n    ]\r\n\r\nAs above, the `content` property can be either a simple string, or an array with a string as the only element.\r\n\r\n\r\n<a name=\"header10_3\"></a>\r\n###Empty XML Element: One Or More Attributes But No Content   \r\nIf you wish to add an empty XML element (i.e. an XML element that has attributes, but no content), then add the following as an element in the `configXmlWidget` array.\r\n\r\nThe `<preference>` XML element is a good example here.  In this case we will set the time out period for the Cordova `deviceready` event to 30 seconds.\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"preference\",\r\n        \"attributes\"  : { \"name\": \"loadUrlTimeoutValue\", \"value\": \"30000\" },\r\n        \"content\"     : []\r\n      }\r\n    ]\r\n\r\nEach attribute name is specified as a property within the `attributes` object, and the value of each property must be a simple string.\r\n\r\nYou can specify as many properties as are relevant for the particular XML element you are adjusting.\r\n\r\nSince this is an empty element, the `content` property must be set to an empty array, **not** an empty string.\r\n\r\nIf multiple instances of the same element are needed, then simply repeat the element definition.  For example, in order to have multiple `<preference>` elements, you can specify something like:\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"preference\",\r\n        \"attributes\"  : { \"name\": \"loadUrlTimeoutValue\", \"value\": \"30000\" },\r\n        \"content\"     : []\r\n      },\r\n      { \"elementName\" : \"preference\",\r\n        \"attributes\"  : { \"name\": \"Squeeze\", \"value\": \"Orange Juice\" },\r\n        \"content\"     : []\r\n      },\r\n      { \"elementName\" : \"preference\",\r\n        \"attributes\"  : { \"name\": \"Tie\", \"value\": \"Shoelaces\" },\r\n        \"content\"     : []\r\n      }\r\n    ]\r\n\r\n**WARNING**  \r\nNormally, specifying the same `configXmlWidget` element in both the Global and Local configuration files will result in both instances of the element appearing in the adjusted `config.xml` file.\r\n\r\nThe only exception to this rule is for `<preference>` elements having the same value in their `name` attribute.  In this case, the normal priority rules apply and the value from the local configuration file will override the value from the global configuration file.\r\n\r\nFor example, you may choose to set the `deviceready` timeout to 30 seconds for all projects:\r\n\r\n    { \"elementName\" : \"preference\",\r\n      \"attributes\"  : { \"name\": \"loadUrlTimeoutValue\", \"value\": \"30000\" },\r\n      \"content\"     : []\r\n    },\r\n\r\nHowever, for one particular project, you know that since more plugns are being used, it will take longer for Cordova to boot up.  Therefore, the Local configuration file for this project contains a duplicate `<preference name=\"loadUrlTimeoutValue\"...>` that sets the timeout to 60 seconds.  In this case, the Local value overrides the Global value.\r\n\r\n    { \"elementName\" : \"preference\",\r\n      \"attributes\"  : { \"name\": \"loadUrlTimeoutValue\", \"value\": \"60000\" },\r\n      \"content\"     : []\r\n    },\r\n\r\nAny other duplicate definitions of `configXmlWidget` elements will result in both elements appearing in the adjusted `config.xml` file.  \r\n**This could possibly cause an error when trying to run the Cordova project!**\r\n\r\n\r\n\r\n<a name=\"header10_4\"></a>\r\n###XML Element: One Or More Attributes And Structured Content   \r\nIf you wish to add an XML element that has both attributes and structured (that is, non-string) content, then the `content` array property must contain one or more JSON objects of exactly the same structure used for the parent object.\r\n\r\nThe `<feature>` element is a good example, since it can contain zero or more `<param>` elements:\r\n\r\n    \"configXmlWidget\": [\r\n      { \"elementName\" : \"feature\",\r\n        \"attributes\"  : { \"name\": \"http://example.org/api/geolocation\" },\r\n        \"content\"     : [\r\n          { \"elementName\" : \"param\",\r\n            \"attributes\"  : { \"name\": \"accuracy\", \"value\": \"low\" },\r\n            \"content\"     : []\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n\r\n\r\n<a name=\"header11\"></a>\r\n##11) Using Place Holders In `config.xml` Attributes and Content\r\nGenerally speaking, most attribute values used by the XML elements in `config.xml` are simple string or Boolean values.  However, there are various attributes that often need to be set equal to values that have already been defined somewhere else.\r\n\r\nA typical example is for the attributes and content of the `<author>` element.  Here, you might want to set the email address and URL equal to values that you already defined when you set up either `npm` or `git`.\r\n\r\n<a name=\"header11_1\"></a>\r\n###11.1) Place Holder Syntax\r\nInstead of repeating a value defined elsewhere, you can reference it using a place holder.  Three place holders are recognised:\r\n\r\n`$git()` - Reference a `git` variable  \r\n`$npm()` - Reference an `npm` variable  \r\n`$env()` - Reference an environment variable available to NodeJS via its `process.env` object\r\n\r\n<a name=\"header11_2\"></a>\r\n###11.2) Place Holder Usage\r\nOnly the XML attributes `email` and `href` will be parsed for place holders; however, if the content of an XML element is a simple string value, then this string value may contain any number of place holders.\r\n\r\nIf, for instance, you want to pick up the value of the `git` variable `user.email`, simply use the following string somewhere inside the attribute or content string value:\r\n\r\n    $git(user.email)\r\n\r\nSimilarly, `npm` variables such as `init.author.url` are referenced as follows:\r\n\r\n    $npm(init.author.url)\r\n\r\nFinally, to pick up the value of an environment variable, use:\r\n\r\n    $env(USER)\r\n\r\n<a name=\"header11_3\"></a>\r\n###11.3) Simple Example\r\nUsing the above information, you could now define the `<author>` element of `config.xml` something like this:\r\n\r\n    {\r\n      \"elementName\": \"author\",\r\n      \"attributes\": { \"email\": \"$git(user.email)\",\r\n                      \"href\":  \"$npm(init.author.url)\" },\r\n      \"content\": [\"\\n    Written by $env(USER)    \\n  \"]\r\n    },\r\n\r\n\r\n<a name=\"header11_4\"></a>\r\n###11.4) Multiple Place Holders\r\nYou can add as many place holders as you like within a single string value.  So for instance, you might choose to define the content of the `<author>` element like this:\r\n\r\n    \"content\": [\"Written by $env(USER), better known as $npm(init.author.name) and whose email address is either $git(user.email) or $npm(init.author.email)\"]\r\n\r\nAssuming you have referenced an existing variable, all place holders will be substituted with the referenced variable's current runtime value.\r\n\r\n\r\n<a name=\"header11_5\"></a>\r\n###11.5) Place Holder Reference Errors\r\n**IMPORTANT**\r\n\r\n1. If you reference a variable name that does not exist, then the place holder will be replaced with an empty string.\r\n2. On *NIX machines, all place holder names are case-sensitive!\r\n3. When using the `$env()` place holder to reference environment variables, you may only specify variables that NodeJS can access via its `process.env` object.  This is usually a smaller list than is displayed if you type `set` from a command prompt.\r\n\r\n\r\n\r\n<a name=\"header12\"></a>\r\n##12) Full Example\r\nHere is full (if somewhat excessive) example.  In this example, the Global Configuration file contains the following additional information (over and above the defaults).\r\n\r\n1. The list of default plugins has been extended in both the global and local config files\r\n2. A proxy server is defined and should be used\r\n3. The `config.xml` file is being adjusted in the following ways:\r\n  * Both the attributes and the content of the `<author>` element contain various place holders that will be substituted for the current runtime values of variables obtained from `git`, `npm` and the operating system environment.\r\n  * The `deviceready` timeout is set to 30 seconds\r\n  * An additional (nonsense) preference is added called \"SomeOtherName\"\r\n  * The Geolocation accuracy is set to 'low' using a `<feature>` element containing a `<param>` element\r\n\r\nThe Global Configuration file looks like this:\r\n\r\n    {\r\n      \"cordovaDebug\": false,\r\n      \"copyFrom\": \"\",\r\n      \"linkTo\": \"\",\r\n      \"createParms\": \"\",\r\n      \"replaceTargetDir\": false,\r\n      \"runPrepare\": false,\r\n      \"pluginList\": [\r\n          \"org.apache.cordova.console\",\r\n          \"org.apache.cordova.dialogs\",\r\n          \"org.apache.cordova.device\",\r\n          \"org.apache.cordova.network-information\"\r\n      ],\r\n      \"platformList\": [ \"android\", \"ios\" ],\r\n      \"proxy\": {\r\n          \"useProxy\": true,\r\n          \"http\":  { \"host\": \"proxy.my-corp.com\", \"port\": 8080 },\r\n          \"https\": { \"host\": \"proxy.my-corp.com\", \"port\": 8080 }\r\n      },\r\n      \"adjustConfigXml\": true,\r\n      \"configXmlWidget\": [\r\n        {\r\n          \"elementName\": \"author\",\r\n          \"attributes\": { \"email\": \"$env(USER)@somewhere.com\",\r\n                          \"href\":  \"$npm(init.author.url)\" },\r\n          \"content\": [\"This app was written by $env(USER), better known as $npm(init.author.name) whose email address is either $git(user.email) or $npm(init.author.email)\"]\r\n        },\r\n        {\r\n          \"elementName\": \"preference\",\r\n          \"attributes\": { \"name\": \"LoadUrlTimeoutValue\", \"value\": \"30000\" },\r\n          \"content\": []\r\n        },\r\n        {\r\n          \"elementName\": \"preference\",\r\n          \"attributes\": { \"name\": \"SomeOtherName\", \"value\": \"SomeOtherValue\" },\r\n          \"content\": []\r\n        },\r\n        {\r\n          \"elementName\": \"feature\",\r\n          \"attributes\": { \"name\": \"http://example.org/api/geolocation\" },\r\n          \"content\": [\r\n            {\r\n              \"elementName\": \"param\",\r\n              \"attributes\": { \"name\": \"accuracy\", \"value\": \"low\" },\r\n              \"content\": []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nThe Local Configuration file then modifies this information.\r\n\r\nNotice that the definiion of the `<preference>` element having the name `LoadUrlTimeoutValue` has been repeated.  This will set the `deviceready` timeout for this particular project to 60 seconds overriding the value found in the global configuration file.\r\n\r\nIf any other duplicate `configXmlWidget` elemnts appear in both the global and local configuration files, then both values will appear in the adjusted `config.xml` file.\r\n\r\n    {\r\n      \"linkTo\"       : \"./demo_www\",\r\n      \"createParms\"  : \"\\\"{\\\\\\\"plugin_search_path\\\\\\\": \\\\\\\"/usr/3rd-party/plugins\\\\\\\"}\\\"\",\r\n      \"replaceTargetDir\": false,\r\n      \"pluginList\"   : [\r\n          \"https://github.com/vstirbu/PromisesPlugin.git\",\r\n          \"com.3rd-party.plugins.do-that\",\r\n          \"com.3rd-party.plugins.do-that\"\r\n      ],\r\n      \"adjustConfigXml\": true,\r\n      \"configXmlWidget\": [\r\n        {\r\n          \"elementName\" : \"name\",\r\n          \"attributes\"  : {},\r\n          \"content\": \"My Cool Cordova App\"\r\n        },\r\n        {\r\n          \"elementName\" : \"description\",\r\n          \"attributes\"  : {},\r\n          \"content\": \"This app is so cool, it can do everything except squeeze orange juice and tie shoelaces\"\r\n        },\r\n        {\r\n          \"elementName\": \"preference\",\r\n          \"attributes\": { \"name\": \"LoadUrlTimeoutValue\", \"value\": \"60000\" },\r\n          \"content\": []\r\n        },\r\n      ]\r\n    }\r\n\r\n\r\nAssuming the various `git`, `npm`, and environment variables point to my own details, then the adjusted `config.xml` file will look like this:\r\n\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n    <widget id=\"cus.sd.mycontacts\" version=\"0.0.1\" xmlns=\"http://www.w3.org/ns/widgets\" xmlns:cdv=\"http://cordova.apache.org/ns/1.0\">\r\n      <name>My Cool Cordova App</name>\r\n      <description>This app is so cool, it can do everything except squeeze orange juice and tie shoelaces</description>\r\n      <author email=\"chrisw@somewhere.com\" href=\"http://whealy.com/\">This app was written by chrisw, better known as Chris Whealy whose email address is either chris@whealy.com or chris@whealy.com</author>\r\n      <content src=\"index.html\"/>\r\n      <access origin=\"*\"/>\r\n      <preference name=\"LoadUrlTimeoutValue\" value=\"60000\"/>\r\n      <preference name=\"SomeOtherName\" value=\"SomeOtherValue\"/>\r\n      <feature name=\"http://example.org/api/geolocation\">\r\n        <param name=\"accuracy\" value=\"low\"/>\r\n      </feature>\r\n    </widget>\r\n\r\n[Top](#top)\r\n\r\n\r\n\r\n\r\n* * *\r\n&copy; 2014 [Chris Whealy](http://whealy.com)",
  "readmeFilename": "README.md",
  "gitHead": "8d308794b3ab8897a995976596a3ea3e22c6277d",
  "_id": "cva-create@0.2.15",
  "scripts": {},
  "_shasum": "65553a267e0a802ba35598d5c26d4ccabc2ab66f",
  "_from": "cva-create@"
}
